<!doctype html>
<html lang=en>
  <meta charset="utf-8">
  <title>Spatnav sanity check</title>
  <script src="../../polyfill/spatial-navigation-polyfill.js"></script>
  </script>
  <link rel="stylesheet" href="../../demo/sample/spatnav-style.css">
  <link rel="stylesheet" href="test.css">
  <script src="test.js"></script>
  <style>
  #d {
    width: 100px;
    height: 100px;
    overflow: scroll;
  }
  </style>
  <body onload="onload()">
    <div id="c1" class="container" tabindex="0" style="width:600px; height:100px; overflow-y: scroll;">
      <button id="c1b1" class="box" style="top: 50px; left: 100px;"></button>
    </div>

    <div id="c2" class="container" tabindex="0" style="width:600px; height:100px; overflow: auto;">
        <button id="c2b1" class="box" style="top: 50px; left: 100px;"></button>
    </div>

    <div id="c3" class="container" tabindex="0" style="width:600px; height:100px; overflow: auto;">
      <button id="c3b1" class="box" style="top: 50px; left: 100px;"></button>
      <button id="c3b2" class="box" style="top: 100px; left: 100px;"></button>
    </div>

    <div id="c4" class="container" tabindex="0" style="width:600px; height:100px; overflow: scroll;">
        <button id="c3b1" class="box" style="top: 50px; left: 100px;"></button>
        <button id="c3b2" class="box" style="top: 100px; left: 100px;"></button>
      </div>

    <div id="c5" class="container" tabindex="0" style="width:600px; height:100px; overflow: hidden;">
      <button id="c3b1" class="box" style="top: 50px; left: 100px;"></button>
      <button id="c3b2" class="box" style="top: 100px; left: 100px;"></button>
    </div>

    <div id="c6" class="container" tabindex="0" style="width:600px; height:100px; overflow: clip;">
      <button id="c3b1" class="box" style="top: 50px; left: 100px;"></button>
      <button id="c3b2" class="box" style="top: 100px; left: 100px;"></button>
    </div>

    <div id="c7" class="container" tabindex="0" style="width:600px; height:100px; overflow: visible;">
        <button id="c3b1" class="box" style="top: 50px; left: 100px;"></button>
        <button id="c3b2" class="box" style="top: 100px; left: 100px;"></button>
    </div>
  </body>
  <script>
  var onload = () => {
    window.__spatialNavigation__.enableExperimentalAPIs(true);
    testInit();

    let testNum = 1;
    let containers = document.querySelectorAll('.container');

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[0]), false);
    }, `isScrollContainer TC${testNum++}. not overflowing element with 'overflow: scroll' is not a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[1]), false);
    }, `isScrollContainer TC${testNum++}. not overflowing element with 'overflow: auto' is not a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[2]), true);
    }, `isScrollContainer TC${testNum++}. overflowing element with 'overflow: auto' is a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[3]), true);
    }, `isScrollContainer TC${testNum++}. overflowing element with 'overflow: scroll' is a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[4]), true);
    }, `isScrollContainer TC${testNum++}. overflowing element with 'overflow: hidden' is a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[5]), false);
    }, `isScrollContainer TC${testNum++}. overflowing element with 'overflow: clip' is not a scroll container`);

    testRun(function() {
      assert_equals(window.__spatialNavigation__.isScrollContainer(containers[6]), false);
    }, `isScrollContainer TC${testNum++}. overflowing element with 'overflow: visible' is not a scroll container`);
  }
  </script>
</html>
