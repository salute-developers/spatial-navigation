<!--
  Copyright 2019 LG Electronics Inc. All rights reserved.

  - Author: Jihye Hong (jh.hong@lge.com)
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroller Demo</title>
  <link rel="stylesheet" href="scroller-style.css"></link>
  <script src="scroller-utils.js"></script>
  <script src="../../polyfill/spatial-navigation-polyfill.js"></script>
</head>

<body>
  <h1>Scroller in Spatial Navigation</h1>
  <div class="description">
    <h3>Demo</h3>
    <p>This aims to explain how <code>spatial-navigation-behavior</code> CSS Property works.</p>
    <p class="cssSyntax">spatial-navigation-behavior: auto | focus</p>  
    <ul>
      <li>`auto`: The directional input will move the focus to the visible candidates inside the spatial navigation container. 
        If there isn't any visible candidate, the user can manually scroll the container. <br>(current spec)</li>
      <li>`focus`: The directional input will move the focus to candidates(visible or not) inside the spatial navigation container. 
        The user cannot manually scroll the container.</li>
    </ul>
  </div>
  
  <form class="option">
    <fieldset>
      <legend>Option</legend>
      <div>
        <span>Initial number of elements: <input id="itemNum" type="number" value=10></input></span>
        <span style="margin-left: 10px;">
          spatial-navigation-behavior :
          <select id="behavior" style="margin:0px 20px">
            <option value="auto">auto</option>
            <option value="focus" selected>focus</option>
          </select>
        </span>
      </div>
    </fieldset>
  </form>
  <div >
    
  </div>
  <div class="wrapper">

    <!-- Feed Section starts -->
    <div id="feed" tabindex="0" style="--spatial-navigation-behavior: focus;"></div>
    <!-- Feed Section end -->

  </div>
  <p>
    <a href="https://github.com/w3c/csswg-drafts/issues/3401" target="blank">Related Github Issue</a>
  </p>
</body>
<script type="text/javascript">
  let itemNum = document.getElementById('itemNum');
  let behaviorOption = document.getElementById('behavior');
  let container = document.getElementById('feed');

  document.body.onload = initBoxes(container, itemNum.value);

  itemNum.addEventListener('change', function (e) {
    console.log("boxNum: " + e.target.value);
    updateBoxes(container, e.target.value);
  });

  behaviorOption.addEventListener('change', function (e) {
    container.style.setProperty("--spatial-navigation-behavior", behaviorOption.value);
  });

  document.body.addEventListener('navbeforefocus', function(e) {
    console.log("%cnavbeforefocus event: \n%o, %o", "background: lightcoral", {currentTarget: e.currentTarget}, {target: e.target});
  });

  document.body.addEventListener('navbeforescroll', function(e) {
    console.log("%cnavbeforescroll event: \n%o, %o", "background: lightblue", {currentTarget: e.currentTarget}, {target: e.target});
  });

  document.body.addEventListener('navnotarget', function(e) {
    console.log("%cnavnotarget event: \n%o, %o", "background: lightgreen", {currentTarget: e.currentTarget}, {target: e.target});
  });

</script>
</html>
